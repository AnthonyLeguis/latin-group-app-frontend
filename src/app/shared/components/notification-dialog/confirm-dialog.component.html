<div class="custom-dialog-container">
    <!-- Icono animado -->
    <div class="icon-container" *ngIf="data.type && !data.isLoading">
        <div class="icon-circle" [ngClass]="'icon-' + data.type">
            <mat-icon class="icon-main">{{ getIcon() }}</mat-icon>
        </div>
    </div>

    <!-- Título -->
    <h1 mat-dialog-title *ngIf="data.title" class="dialog-title">{{ data.title }}</h1>

    <!-- Contenido -->
    <div mat-dialog-content class="dialog-content">
        <div class="loading-container" *ngIf="data.isLoading">
            <app-spinner-global size="small"></app-spinner-global>
            <p *ngIf="data.loadingMessage" class="loading-message">{{ data.loadingMessage }}</p>
        </div>

        <p *ngIf="data.message && !data.isLoading" class="dialog-message">{{ data.message }}</p>

        <!-- Link de confirmación -->
        <div *ngIf="data.showLink && data.linkUrl && !data.isLoading" class="link-container">
            <label class="link-label">{{ data.linkLabel || 'Su link es:' }}</label>
            <div class="link-box">
                <input type="text" [value]="data.linkUrl" readonly class="link-input" #linkInput>
                <button mat-icon-button (click)="copyLink()" class="copy-btn"
                    [matTooltip]="linkCopied ? '¡Copiado!' : 'Copiar link'" matTooltipPosition="above">
                    <mat-icon>{{ linkCopied ? 'check' : 'content_copy' }}</mat-icon>
                </button>
            </div>
        </div>
    </div>

    <!-- Botones -->
    <div mat-dialog-actions class="dialog-actions">
        <button mat-stroked-button *ngIf="data.cancelButtonText" (click)="onCancel()" class="cancel-btn">
            {{ data.cancelButtonText }}
        </button>
        <button mat-flat-button *ngIf="data.confirmButtonText" (click)="onConfirm()"
            [ngClass]="'confirm-btn-' + data.type">
            {{ data.confirmButtonText }}
        </button>
    </div>
</div>