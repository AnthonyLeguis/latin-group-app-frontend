<!-- Our Team Section -->
<section id="team" class="our-team-section bg-gradient-to-r from-gray-100 to-gray-200">
    <div class="w-full bg-gradient-to-r from-gray-300 to-red-600 py-6 mb-12">
        <div class="container mx-auto px-4 text-center">
            <app-section-title [title]="'Nuestro Equipo'"></app-section-title>
        </div>
    </div>
    <div class="container mx-auto px-4 pb-20">

        <!-- First Row - 2 Columns Team Members -->
        <div class="grid md:grid-cols-2 gap-4 mb-16">
            <div *ngFor="let member of firstRowMembers" class="team-member-card text-center">
                <!-- Image -->
                <div class="mb-6 flex justify-center">
                    <img [src]="member.image" [alt]="member.name" class="team-member-image">
                </div>
                <!-- Name -->
                <h3 class="text-2xl font-bold text-gray-800">{{ member.name }}</h3>
                <!-- License -->
                <p class="text-xl font-bold text-red-900">{{ member.license }}</p>
                <!-- States -->
                <p class="text-sm font-semibold text-red-950">{{ member.states }}</p>
            </div>
        </div>

        <!-- Second Row - Testimonials -->
        <!-- Carousel for small screens (< lg) -->
        <div class="testimonials-carousel-section mb-16 lg:hidden">
            <!-- Navigation Buttons -->
            <div class="carousel-nav-container flex items-center justify-center gap-4 mb-6 lg:hidden">
                <button class="carousel-nav carousel-nav-prev lg:hidden" (click)="prevTestimonial()"
                    aria-label="Previous testimonial">
                    <span class="nav-arrow">‹</span>
                </button>

                <!-- Carousel Container -->
                <div class="testimonial-carousel-container flex-1 lg:hidden">
                    <div class="testimonial-carousel-track"
                        [style.transform]="'translateX(-' + getTestimonialTranslate() + '%)'"
                        [ngClass]="getTestimonialTransitionClass()">
                        <div *ngFor="let testimonial of allTestimonials" class="testimonial-carousel-slide">
                            <div class="testimonial-card">
                                <!-- Testimonial Text -->
                                <p class="testimonial-text mb-6 text-gray-700 italic">{{ testimonial.text }}</p>

                                <!-- Testimonial Author -->
                                <div class="testimonial-author flex items-center gap-4">
                                    <img [src]="testimonial.image" [alt]="testimonial.name" class="testimonial-image">
                                    <div class="text-left">
                                        <h4 class="font-bold text-gray-800">{{ testimonial.name }}</h4>
                                        <p class="text-red-600 font-semibold text-sm">{{ testimonial.role }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav carousel-nav-next lg:hidden" (click)="nextTestimonial()"
                    aria-label="Next testimonial">
                    <span class="nav-arrow">›</span>
                </button>
            </div>
        </div>

        <!-- Grid for large screens (>= lg) -->
        <div class="testimonials-grid-container hidden lg:grid lg:grid-cols-3 gap-8 mb-16">
            <div *ngFor="let testimonial of testimonials" class="testimonial-card">
                <!-- Testimonial Text -->
                <p class="testimonial-text mb-6 text-gray-700 italic">{{ testimonial.text }}</p>

                <!-- Testimonial Author -->
                <div class="testimonial-author flex items-center gap-4">
                    <img [src]="testimonial.image" [alt]="testimonial.name" class="testimonial-image">
                    <div class="text-left">
                        <h4 class="font-bold text-gray-800">{{ testimonial.name }}</h4>
                        <p class="text-red-600 font-semibold text-sm">{{ testimonial.role }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Third Row - Mapa de licencias -->
        <div class="our-team-map-row flex flex-col items-center justify-center">
            <img src="images/our-team/mapUSA.png" alt="Mapa de Estados Unidos con estados licenciados"
                class="our-team-map-image mb-4 max-w-full" />
            <p
                class="text-center text-gray-800 text-lg font-medium mt-4 md:text-xl md:font-semibold lg:text-2xl lg:mt-4 tracking-[0.08em]">
                Mapa
                donde
                poseemos licencia para operar
            </p>
        </div>
    </div>
</section>