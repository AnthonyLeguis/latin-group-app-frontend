<section id="contact" class="contact-section py-20 bg-white">
    <div class="w-full bg-gradient-to-r from-gray-300/70 via-gray-200/70 to-red-700/90 py-4 mb-12">
        <div class="container mx-auto px-4 text-center">
            <app-section-title [title]="'Contáctanos'"></app-section-title>
        </div>
    </div>
    <div class="container mx-auto px-4 py-16">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <!-- Form Section -->
            <div class="flex flex-col">
                <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-4">
                    <!-- Nombre Completo -->
                    <div>
                        <label for="fullName" class="block text-sm font-semibold text-gray-700">
                            Nombre completo <span class="text-red-600">*</span>
                        </label>
                        <input type="text" id="fullName" name="fullName" formControlName="fullName"
                            placeholder="Tu nombre completo" autocomplete="name"
                            class="w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition uppercase"
                            required />
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-semibold text-gray-700">
                            Correo electrónico <span class="text-red-600">*</span>
                        </label>
                        <input type="email" id="email" name="email" formControlName="email" placeholder="tu@email.com"
                            autocomplete="email"
                            class="w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                            required />
                    </div>

                    <!-- Teléfono y Código Postal en la misma fila desde md -->
                    <div class="flex flex-col md:flex-row md:space-x-4 md:space-y-0 space-y-2">
                        <!-- Teléfono con bandera y país -->
                        <div class="w-full md:w-1/2">
                            <label for="phone" class="block text-sm font-semibold text-gray-700 mb-2">Teléfono <span
                                    class="text-red-600">*</span></label>
                            <ngx-intl-tel-input
                                [cssClass]="'w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition'"
                                [preferredCountries]="preferredCountries" [enableAutoCountrySelect]="false"
                                [enablePlaceholder]="true" [searchCountryFlag]="true"
                                [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                [selectFirstCountry]="false" [selectedCountryISO]="CountryISO.UnitedStates"
                                [maxLength]="15" [phoneValidation]="false" [inputId]="'phone'" name="phone"
                                formControlName="phone" autocomplete="tel">
                            </ngx-intl-tel-input>
                        </div>
                        <!-- Código Postal -->
                        <div class="w-full md:w-1/2">
                            <label for="zipCode" class="block text-sm font-semibold text-gray-700 mb-2">Código postal
                                <span class="text-red-600">*</span></label>
                            <input type="text" id="zipCode" name="zipCode" formControlName="zipCode" placeholder="12345"
                                inputmode="numeric" pattern="[0-9]*" maxlength="10" autocomplete="postal-code"
                                class="w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                                required />
                        </div>
                    </div>

                    <!-- Servicio en dos columnas -->
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-3">
                            Servicio <span class="text-red-600">*</span>
                        </label>
                        <div class="grid grid-cols-2 gap-x-4 gap-y-2">
                            <label for="serviceMedical"
                                class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                                <input type="checkbox" id="serviceMedical" name="serviceMedical"
                                    formControlName="serviceMedical"
                                    class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                                <span class="ml-3 text-gray-700">Servicio médico</span>
                            </label>
                            <label for="serviceDental"
                                class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                                <input type="checkbox" id="serviceDental" name="serviceDental"
                                    formControlName="serviceDental"
                                    class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                                <span class="ml-3 text-gray-700">Servicio dental</span>
                            </label>
                            <label for="serviceAccidents"
                                class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                                <input type="checkbox" id="serviceAccidents" name="serviceAccidents"
                                    formControlName="serviceAccidents"
                                    class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                                <span class="ml-3 text-gray-700">Póliza de accidentes</span>
                            </label>
                            <label for="serviceLife"
                                class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                                <input type="checkbox" id="serviceLife" name="serviceLife" formControlName="serviceLife"
                                    class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                                <span class="ml-3 text-gray-700">Seguro de vida</span>
                            </label>
                        </div>
                    </div>

                    <!-- SMS Consent -->
                    <label for="acceptSms"
                        class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded transition">
                        <input type="checkbox" id="acceptSms" name="acceptSms" formControlName="acceptSms"
                            class="w-4 h-3 text-blue-600 rounded border-gray-300 cursor-pointer" />
                        <span class="ml-3 text-sm font-semibold text-gray-700">
                            Al marcar esta casilla, aceptas recibir mensajes de texto (SMS) de Latin Group
                        </span>
                    </label>

                    <!-- reCAPTCHA Terms -->
                    <p class="text-xs text-gray-500 text-center">
                        Este sitio está protegido por reCAPTCHA y se aplican la
                        <a href="https://policies.google.com/privacy" target="_blank"
                            class="text-blue-600 hover:underline">Política de privacidad</a> y los
                        <a href="https://policies.google.com/terms" target="_blank"
                            class="text-blue-600 hover:underline">Términos de servicio</a> de Google.
                    </p>

                    <!-- Submit Button -->
                    <button type="submit" [disabled]="!contactForm.valid"
                        class="w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed">
                        Enviar
                    </button>
                </form>
            </div>

            <!-- Image Section -->
            <div class="hidden md:flex justify-center items-center">
                <img src="images/contact/contacto.jpg" alt="Nuestro equipo de contacto"
                    class="w-full h-auto rounded-lg shadow-lg object-cover" width="600" height="800" loading="lazy" />
            </div>
        </div>
    </div>
</section>

<!-- Modal de contacto -->
<div *ngIf="isModalOpen" class="modal-overlay" (click)="closeModal()">
    <div class="modal-container" (click)="$event.stopPropagation()">
        <!-- Header del modal -->
        <div class="modal-header bg-red-500">
            <h3 class="text-2xl font-semibold text-gray-200/90">Inscríbete Ahora</h3>
            <button type="button" (click)="closeModal()" class="modal-close-btn">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <!-- Contenido del modal -->
        <div class="modal-content">
            <form [formGroup]="modalForm" (ngSubmit)="onModalSubmit()" class="space-y-4">
                <!-- Nombre Completo -->
                <div>
                    <label for="modal-fullName" class="block text-sm font-semibold text-gray-700">
                        Nombre completo <span class="text-red-600">*</span>
                    </label>
                    <input type="text" id="modal-fullName" name="modal-fullName" formControlName="fullName"
                        placeholder="Tu nombre completo" autocomplete="name"
                        class="w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition uppercase"
                        required />
                </div>

                <!-- Email -->
                <div>
                    <label for="modal-email" class="block text-sm font-semibold text-gray-700">
                        Correo electrónico <span class="text-red-600">*</span>
                    </label>
                    <input type="email" id="modal-email" name="modal-email" formControlName="email"
                        placeholder="tu@email.com" autocomplete="email"
                        class="w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                        required />
                </div>

                <!-- Teléfono y Código Postal en la misma fila desde md -->
                <div class="flex flex-col md:flex-row md:space-x-4 md:space-y-0 space-y-2">
                    <!-- Teléfono con bandera y país -->
                    <div class="w-full md:w-1/2">
                        <label for="modal-phone" class="block text-sm font-semibold text-gray-700 mb-2">Teléfono <span
                                class="text-red-600">*</span></label>
                        <ngx-intl-tel-input
                            [cssClass]="'w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition'"
                            [preferredCountries]="preferredCountries" [enableAutoCountrySelect]="false"
                            [enablePlaceholder]="true" [searchCountryFlag]="true"
                            [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                            [selectFirstCountry]="false" [selectedCountryISO]="CountryISO.UnitedStates" [maxLength]="15"
                            [phoneValidation]="false" [inputId]="'modal-phone'" name="modal-phone"
                            formControlName="phone" autocomplete="tel">
                        </ngx-intl-tel-input>
                    </div>
                    <!-- Código Postal -->
                    <div class="w-full md:w-1/2">
                        <label for="modal-zipCode" class="block text-sm font-semibold text-gray-700 mb-2">Código postal
                            <span class="text-red-600">*</span></label>
                        <input type="text" id="modal-zipCode" name="modal-zipCode" formControlName="zipCode"
                            placeholder="12345" inputmode="numeric" pattern="[0-9]*" maxlength="10"
                            autocomplete="postal-code"
                            class="w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                            required />
                    </div>
                </div>

                <!-- Servicio en dos columnas -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        Servicio <span class="text-red-600">*</span>
                    </label>
                    <div class="grid grid-cols-2 gap-x-4 gap-y-2">
                        <label for="modal-serviceMedical"
                            class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                            <input type="checkbox" id="modal-serviceMedical" name="modal-serviceMedical"
                                formControlName="serviceMedical"
                                class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                            <span class="ml-3 text-gray-700">Servicio médico</span>
                        </label>
                        <label for="modal-serviceDental"
                            class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                            <input type="checkbox" id="modal-serviceDental" name="modal-serviceDental"
                                formControlName="serviceDental"
                                class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                            <span class="ml-3 text-gray-700">Servicio dental</span>
                        </label>
                        <label for="modal-serviceAccidents"
                            class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                            <input type="checkbox" id="modal-serviceAccidents" name="modal-serviceAccidents"
                                formControlName="serviceAccidents"
                                class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                            <span class="ml-3 text-gray-700">Póliza de accidentes</span>
                        </label>
                        <label for="modal-serviceLife"
                            class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition">
                            <input type="checkbox" id="modal-serviceLife" name="modal-serviceLife"
                                formControlName="serviceLife"
                                class="w-4 h-4 text-blue-600 rounded border-gray-300 cursor-pointer" />
                            <span class="ml-3 text-gray-700">Seguro de vida</span>
                        </label>
                    </div>
                </div>

                <!-- SMS Consent -->
                <label for="modal-acceptSms"
                    class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded transition">
                    <input type="checkbox" id="modal-acceptSms" name="modal-acceptSms" formControlName="acceptSms"
                        class="w-4 h-3 text-blue-600 rounded border-gray-300 cursor-pointer" />
                    <p class="ml-3 span-txt text-sm font-semibold text-gray-700">
                        Al marcar esta casilla, aceptas recibir mensajes de texto (SMS) de Latin Group
                    </p>
                </label>

                <!-- reCAPTCHA Terms -->
                <p class="text-xs text-gray-500 text-center">
                    Este sitio está protegido por reCAPTCHA y se aplican la
                    <a href="https://policies.google.com/privacy" target="_blank"
                        class="text-blue-600 hover:underline">Política de privacidad</a> y los
                    <a href="https://policies.google.com/terms" target="_blank"
                        class="text-blue-600 hover:underline">Términos de servicio</a> de Google.
                </p>

                <!-- Submit Button -->
                <button type="submit" [disabled]="!modalForm.valid"
                    class="w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transition duration-300 disabled:from-gray-400 disabled:to-blue-500 disabled:cursor-not-allowed">
                    Enviar
                </button>
            </form>
        </div>
    </div>
</div>